@if (isLoading) {
  <div class="loading-transition" [@fadeInOut]="isLoading ? 'loading' : 'loaded'">
    <div class="animate-pulse flex flex-row gap-6 p-2 rounded-2xl w-80 h-24 bg-darkGray">
      <div class="flex bg-darkSilver w-16 h-full rounded-2xl"></div>
      <div class="flex-1 flex flex-col justify-around">
        <div class="w-1/2 h-2 rounded-2xl bg-darkSilver"></div>
        <div class="w-3/4 h-2 rounded-2xl bg-darkCharcoal"></div>
      </div>
    </div>
  </div>
} @else {
  <div class="flex flex-row gap-6 p-2 rounded-2xl w-80 h-24 hover:bg-darkGray transition duration-300 cursor-pointer"
       activateWishlistDir (click)="onClickItemHandler()">

    <div class="relative">
      <div class="absolute top-1 right-1 text-black z-10">
        <app-wish-list-button class="wishlist" (clickButtonEvent)="onClickWishlistButtonHandler($event)"/>
      </div>
      <div class="w-16 h-full">
        <img class="rounded-md" ngSrc="{{gameInput().thumbnailCover}}" fill alt="{{gameInput().name}}">
      </div>
    </div>

    <div class="flex flex-col justify-around">
      <h1>{{ gameInput().name }}</h1>
      <div>
        @if (!gameInput().isPublished && !gameInput().publishDate) {
          <h2 class="text-lightDarkGray text-sm">{{ captionInput().comingSoonTitle }}</h2>
        } @else if (!gameInput().isPublished && gameInput().publishDate) {
          <h3 class="text-lightDarkGray mb-8">
            {{ captionInput().availableTitle }} {{ gameInput().publishDate!.getDate() }}
            / {{ gameInput().publishDate!.getMonth() }}
            / {{ gameInput().publishDate!.getDay() }}</h3>
        } @else {
          @if (gameInput().isFree) {
            <div class="flex flex-col gap-4 text-white">
              <h4 class="text-xs">{{ captionInput().freeTitle }}</h4>
            </div>
          }
          @if (!gameInput().isFree) {
            <div class="flex flex-col justify-start text-sm">
              <div class="flex flex-row gap-4 text-xs items-center">
                @if (gameInput().discountPercent) {
                  <h5 class="bg-vividBlue p-1 rounded-sm">{{ -(gameInput().discountPercent / 100) | percent }}</h5>
                }
                <p class="line-through text-lightDarkGray">{{ gameInput().basePrice | currency }}</p>
                <p>{{ gameInput().finalPrice | currency }}</p>
              </div>
            </div>
          }
        }
      </div>
    </div>
  </div>
}


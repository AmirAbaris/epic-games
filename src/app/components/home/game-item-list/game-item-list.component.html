@if (isLoading) {
  <div class="loading-transition" [@fadeInOut]="isLoading ? 'loading' : 'loaded'">
    <div class="animate-pulse flex flex-row gap-6 p-2 rounded-2xl w-80 h-24 bg-darkGray">
      <div class="flex bg-darkSilver w-16 h-full rounded-2xl"></div>
      <div class="flex-1 flex flex-col justify-around">
        <div class="w-1/2 h-2 rounded-2xl bg-darkSilver"></div>
        <div class="w-3/4 h-2 rounded-2xl bg-darkCharcoal"></div>
      </div>
    </div>
  </div>
} @else {
  <div class="flex flex-row gap-6 p-2 rounded-2xl w-80 h-24 hover:bg-darkGray transition duration-300 cursor-pointer"
       activateWishlistDir (click)="onClickItemHandler()">

    <div class="relative">
      <div class="absolute top-1 right-1 text-black z-10">
        <app-wish-list-button class="wishlist" (clickButtonEvent)="onClickWishlistButtonHandler($event)"/>
      </div>
      <div class="w-16 h-full">
        <img class="rounded-md" ngSrc="{{gameInput().thumbnailCover}}" fill alt="{{gameInput().name}}">
      </div>
    </div>
    
    <div class="flex flex-col justify-around">
      <h3>{{ gameInput().name }}</h3>
      <div>
        @if (gameInput().isPublished) {
          @if (gameInput().isFree) {
            <div class="flex flex-col gap-4 text-white">
              <h2 class="text-xs">{{ captionInput() }}</h2>
            </div>
          }
          @if (!gameInput().isFree) {
            <div class="flex flex-col justify-start text-sm">
              <div class="flex flex-row gap-4 text-xs items-center">
                @if (gameInput().discountPercent) {
                  <h4 class="bg-vividBlue p-1 rounded-sm">{{ -(gameInput().discountPercent / 100) | percent }}</h4>
                }
                <h5 class="line-through text-gray-500">{{ gameInput().basePrice | currency }}</h5>
                <p>{{ gameInput().finalPrice | currency }}</p>
              </div>
            </div>
          }
        } @else {
          <p>{{ gameInput().publishDate }}</p>
        }
      </div>
    </div>
  </div>
}

